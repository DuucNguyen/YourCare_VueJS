import{_ as E,k as b,u as y,o as B,L as m,j as h,r as p,c as f,b as s,G as I,a as d,B as M,n as w,v,m as R,f as _}from"./index-mrb-czRM.js";import{_ as x}from"./Message-B-ieFvBl.js";import{B as V}from"./Button-DtRGYaWI.js";const k={class:"container"},N={class:"mt-3 mb-3"},j={key:0},T={class:"w-100 d-flex justify-content-center"},U={class:"form-group m-3 d-flex align-items-center"},A={class:"form-group m-3 d-flex align-items-center"},D={__name:"createPassword",setup(F){var i=b(),P=R();const r=i.params.userId,g=i.params.code,a=y();B(async()=>{await a.confirmEmail(r,g)});const C=m(()=>a.message),c=m(()=>a.isSucceeded),o=h({password:"",confirmPassword:""}),u=p(""),t=p(!1),S=async()=>{const l=await a.createPassword(r,o.password).catch(e=>{console.log("Create password ERROR: "+e)});u.value=l.data.message,t.value=l.data.isSucceeded,t&&(await new Promise(e=>setTimeout(e,3e3)),P.push({name:"create-profile",params:{userId:r}}))};return(l,e)=>(_(),f("div",k,[s("div",N,[d(x,{context:C.value,isError:c.value},null,8,["context","isError"])]),c.value?(_(),f("div",j,[e[5]||(e[5]=s("div",{class:"w-100"},[s("ul",null,[s("li",null,[s("div",null,"1"),s("div",null,"Confirm email")]),s("li",null,[s("div",null,"2"),s("div",null,"Create password")]),s("li",null,[s("div",null,"3"),s("div",null,"Create profile")])])],-1)),s("div",T,[s("form",{onSubmit:M(S,["prevent"]),class:"w-50 form-container"},[e[4]||(e[4]=s("div",{class:"w-100 mb-5 text-center"},[s("h3",null,"Create password")],-1)),d(x,{context:u.value,isError:t.value},null,8,["context","isError"]),s("div",U,[e[2]||(e[2]=s("label",{for:"password"},"Password:",-1)),w(s("input",{type:"password","onUpdate:modelValue":e[0]||(e[0]=n=>o.password=n),id:"password",class:"form-control",placeholder:"Password"},null,512),[[v,o.password]])]),s("div",A,[e[3]||(e[3]=s("label",{class:"",for:"password"},"Confirm Password:",-1)),w(s("input",{type:"password","onUpdate:modelValue":e[1]||(e[1]=n=>o.confirmPassword=n),id:"confirmPassword",class:"form-control",placeholder:"Password"},null,512),[[v,o.confirmPassword]])]),d(V,{class:"mt-5",title:"Create"})],32)])])):I("",!0)]))}},$=E(D,[["__scopeId","data-v-4c1f1fd6"]]);export{$ as default};
