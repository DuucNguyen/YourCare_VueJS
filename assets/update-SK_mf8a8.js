import{j as y,r as v,o as w,c as x,b as t,a as d,w as b,d as D,B as I,n as _,g as n,v as S,F as h,k as C,M as k,E as U,s as A,m as R,f as T}from"./index-q7kJcf_g.js";import{A as c}from"./ApiSpecialty-Dd1vwEal.js";const B={class:"crud-layout-header"},F={class:"row d-flex justify-content-center"},M={class:"col-md-6 form-create"},N={class:"mb-3 form-group"},V={class:"mb-3 form-group d-flex justify-content-between"},j={class:"img-container"},E=["src"],G={__name:"update",setup(L){R();const u=C(),a=y({specialtyID:"",title:"",image:null,imageString:""}),r=async()=>{const o=u.params.id;var e=await c.GetByID(o);e.data.isSucceeded&&(a.specialtyID=e.data.data.specialtyID,a.title=e.data.data.title,a.imageString=e.data.data.imageString,l.value=a.imageString)},l=v(null),p=o=>{const e=o.target.files[0];if(e){a.image=e;const s=new FileReader;s.onload=i=>{l.value=i.target.result},s.readAsDataURL(e)}},m=o=>{k.confirm({title:"Are you sure delete this specialty?",icon:d(U),content:"Are you sure to perform this action.",okText:"Yes",okType:"danger",cancelText:"No",async onOk(){var e=new FormData;e.append("specialtyID",a.specialtyID),e.append("title",a.title),e.append("image",a.image);var s=await c.Update(e),i=s.data.isSucceeded?"success":"error",g=s.data.message;r(),f(i,"Update status",g)},onCancel(){console.log("Cancel update")}})},f=(o,e,s)=>{A[o]({message:e,description:s})};return w(()=>{r()}),(o,e)=>{const s=D("RouterLink");return T(),x(h,null,[t("div",B,[e[3]||(e[3]=t("h2",{class:"crud-layout-header-title"},"Create Specialty",-1)),d(s,{class:"crud-layout-header-button",to:{name:"Admin_Specialty_View"}},{default:b(()=>e[2]||(e[2]=[n("Index")])),_:1})]),t("div",F,[t("div",M,[t("form",{onSubmit:e[1]||(e[1]=I(i=>m(a.specialtyID),["prevent"])),enctype:"multipart/form-data"},[t("div",N,[e[4]||(e[4]=t("label",{for:"title",class:"control-label"},[n("Title"),t("span",{class:"text-danger"},"*")],-1)),_(t("input",{"onUpdate:modelValue":e[0]||(e[0]=i=>a.title=i),id:"title",class:"form-control",placeholder:"title for specialty",required:""},null,512),[[S,a.title]])]),t("div",V,[t("div",null,[e[5]||(e[5]=t("label",{for:"fileInput",class:"control-label"},[n("Image"),t("span",{class:"text-danger"},"*")],-1)),t("input",{id:"fileInput",type:"file",class:"form-control",onChange:p,required:""},null,32)]),t("div",j,[t("img",{id:"previewImage",style:{width:"100%"},src:l.value},null,8,E)])]),e[6]||(e[6]=t("div",{class:"mb-3 form-group d-flex justify-content-end"},[t("input",{type:"submit",value:"Update",class:"btn btn-primary"})],-1))],32)])])],64)}}};export{G as default};
