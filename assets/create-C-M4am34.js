import{j as v,r,c as g,b as t,a as n,w as y,d as _,B as x,n as w,g as i,v as b,F as h,M as C,E as S,s as k,f as A}from"./index-BuR_787K.js";import{A as E}from"./ApiSpecialty-Diae0_cJ.js";import{_ as F}from"./Message-D1TBuRdd.js";const I={class:"crud-layout-header"},N={class:"row d-flex justify-content-center"},T={class:"col-md-6 form-create"},V={class:"mb-3 form-group"},j={class:"mb-3 form-group d-flex justify-content-between"},B={class:"img-container"},D=["src"],q={__name:"create",setup(M){const o=v({title:"",image:null}),d=r(""),u=r(!1),c=r(null),m=s=>{const e=s.target.files[0];if(e){o.image=e;const a=new FileReader;a.onload=l=>{c.value=l.target.result},a.readAsDataURL(e)}},p=()=>{C.confirm({title:"Are you sure create this specialty?",icon:n(S),content:"Are you sure to perform this action.",okText:"Yes",cancelText:"No",async onOk(){var s=new FormData;s.append("title",o.title),s.append("image",o.image);var e=await E.Create(s),a=e.data.isSucceeded?"success":"error",l=e.data.message;f(a,"Create status",l)},onCancel(){console.log("Cancel update")}})},f=(s,e,a)=>{k[s]({message:e,description:a})};return(s,e)=>{const a=_("RouterLink");return A(),g(h,null,[t("div",I,[e[2]||(e[2]=t("h2",{class:"crud-layout-header-title"},"Create Specialty",-1)),n(a,{class:"crud-layout-header-button",to:{name:"Admin_Specialty_View"}},{default:y(()=>e[1]||(e[1]=[i("Index")])),_:1})]),t("div",N,[t("div",T,[t("form",{onSubmit:x(p,["prevent"]),enctype:"multipart/form-data"},[t("div",V,[e[3]||(e[3]=t("label",{for:"title",class:"control-label"},[i("Title"),t("span",{class:"text-danger"},"*")],-1)),w(t("input",{"onUpdate:modelValue":e[0]||(e[0]=l=>o.title=l),id:"title",class:"form-control",placeholder:"title for specialty",required:""},null,512),[[b,o.title]])]),t("div",j,[t("div",null,[e[4]||(e[4]=t("label",{for:"fileInput",class:"control-label"},[i("Image"),t("span",{class:"text-danger"},"*")],-1)),t("input",{id:"fileInput",type:"file",class:"form-control",onChange:m,required:""},null,32)]),t("div",B,[t("img",{id:"previewImage",style:{width:"100%"},src:c.value},null,8,D)])]),t("div",null,[n(F,{context:d.value,isError:u.value},null,8,["context","isError"])]),e[5]||(e[5]=t("div",{class:"mb-3 form-group d-flex justify-content-end"},[t("input",{type:"submit",value:"Create",class:"btn btn-success"})],-1))],32)])])],64)}}};export{q as default};
