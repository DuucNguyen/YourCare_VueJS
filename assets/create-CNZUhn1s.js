import{j as x,r as F,c as R,b as i,a as t,w as l,d,F as E,f as A,g as m,q,M as L,A as O,E as B,s as M}from"./index-CrJylmqk.js";import{P as T}from"./PlusOutlined-mTn-4TXv.js";const V={class:"crud-layout-header"},h={class:"crud-layout-form"},G={__name:"create",setup(D){const a=x({fullName:"",email:"",phoneNumber:"",dob:"",gender:!0,address:"",image:[],password:""}),p=F(),v={span:6},_={span:10},b={fullName:[{required:!0,message:"Please input user full name",trigger:"change"}],email:[{required:!0,message:"Please input user email",trigger:"change"},{type:"email",message:"Please input valid email format (@gmail.com/@...com).",trigger:"change"}],password:[{required:!0,message:"Please input default password",trigger:"change"},{validator:(o,e,s)=>{/[A-Z]/.test(e)?/[!@#$%^&*(),.?":{}|<>]/.test(e)?s():s(new Error("Password must include at least one special character.")):s(new Error("Password must include at least one upper case."))},trigger:"change"}],dob:[{required:!0,message:"Please input user date of birth.",trigger:"blur"}],image:[{required:!0,type:"array",message:"Please upload at least one image."}],gender:[{required:!0,message:"Please choose at least one gender."}]},w=()=>{p.value.validate().then(()=>{y()}).catch(o=>{console.log("CREATE FROM ERROR: ",o)})},N=()=>{p.value.resetFields()},y=()=>{L.confirm({title:"Are you sure create this user?",icon:t(B),content:"Are you sure to perform this action.",okText:"Yes",cancelText:"No",async onOk(){var o=new FormData;o.append("fullName",a.fullName),o.append("email",a.email),o.append("phoneNumber",a.phoneNumber),o.append("dob",a.dob),o.append("gender",a.gender),o.append("address",a.address),o.append("password",a.password),o.append("image",a.image[0].originFileObj);var e=await O.Create(o);e.data.isSucceeded&&console.log(e.data.message);var s=e.data.isSucceeded?"success":"error",f=e.data.message;C(s,"Create user",f)},onCancel(){console.log("Cancel create")}})},C=(o,e,s)=>{M[o]({message:e,description:s})};return(o,e)=>{const s=d("RouterLink"),f=d("a-upload"),n=d("a-form-item"),u=d("a-input"),P=d("a-date-picker"),g=d("a-radio"),U=d("a-radio-group"),c=d("a-button"),k=d("a-form");return A(),R(E,null,[i("div",V,[e[9]||(e[9]=i("h2",{class:"crud-layout-header-title"},"Create User",-1)),t(s,{class:"crud-layout-header-button",to:{name:"Admin_User_View"}},{default:l(()=>e[8]||(e[8]=[m("Back to Lists")])),_:1})]),i("div",h,[t(k,{ref_key:"formRef",ref:p,model:a,rules:b,"label-col":v,"wrapper-col":_},{default:l(()=>[t(n,{class:"mb-5",label:"Image",name:"image"},{default:l(()=>[t(f,{fileList:a.image,"onUpdate:fileList":e[0]||(e[0]=r=>a.image=r),action:"/upload.do","list-type":"picture-card",maxCount:1},{default:l(()=>[i("div",null,[t(q(T)),e[10]||(e[10]=i("div",{style:{"margin-top":"8px"}},"Upload",-1))])]),_:1},8,["fileList"])]),_:1}),t(n,{label:"FullName",name:"fullName"},{default:l(()=>[t(u,{value:a.fullName,"onUpdate:value":e[1]||(e[1]=r=>a.fullName=r)},null,8,["value"])]),_:1}),t(n,{label:"Email",name:"email"},{default:l(()=>[t(u,{value:a.email,"onUpdate:value":e[2]||(e[2]=r=>a.email=r)},null,8,["value"])]),_:1}),t(n,{label:"Phone",name:"phoneNumber"},{default:l(()=>[t(u,{value:a.phoneNumber,"onUpdate:value":e[3]||(e[3]=r=>a.phoneNumber=r)},null,8,["value"])]),_:1}),t(n,{label:"Date of birth",name:"dob"},{default:l(()=>[t(P,{value:a.dob,"onUpdate:value":e[4]||(e[4]=r=>a.dob=r),placeholder:"Pick a date",style:{width:"100%"}},null,8,["value"])]),_:1}),t(n,{label:"Gender",name:"gender"},{default:l(()=>[t(U,{value:a.gender,"onUpdate:value":e[5]||(e[5]=r=>a.gender=r)},{default:l(()=>[t(g,{value:"true"},{default:l(()=>e[11]||(e[11]=[m("Male")])),_:1}),t(g,{value:"false"},{default:l(()=>e[12]||(e[12]=[m("Female")])),_:1})]),_:1},8,["value"])]),_:1}),t(n,{label:"Address",name:"address"},{default:l(()=>[t(u,{value:a.address,"onUpdate:value":e[6]||(e[6]=r=>a.address=r)},null,8,["value"])]),_:1}),t(n,{label:"Password",name:"password"},{default:l(()=>[t(u,{value:a.password,"onUpdate:value":e[7]||(e[7]=r=>a.password=r)},null,8,["value"])]),_:1}),t(n,{"wrapper-col":{span:24,offset:10}},{default:l(()=>[t(c,{type:"primary",onClick:w},{default:l(()=>e[13]||(e[13]=[m("Create")])),_:1}),t(c,{style:{"margin-left":"10px"},onClick:N},{default:l(()=>e[14]||(e[14]=[m("Reset")])),_:1})]),_:1})]),_:1},8,["model"])])],64)}}};export{G as default};
